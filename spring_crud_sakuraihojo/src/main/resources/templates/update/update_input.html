<!DOCTYPE html>
<!-- saved from url=(0055)http://localhost:7779/spring_crud/update/input/?empId=2 -->
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{common/layout_4block :: layout(~{::body/content()})}"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>社員管理システム</title>
</head>
<body>
	<article class="main">
			
	<h3>社員変更入力画面</h3>
    <div class="update" th:object="${employeeBean}">
      <form th:action="@{/update/check}" method="post">
        <!-- エラーメッセージの出力 -->
       	<div th:object="${employeeForm}">
			<p th:errors="*{empPass}"></p> 
			<p th:errors="*{empName}"></p>
			<p th:errors="*{address}"></p>
			<p th:errors="*{birthday}"></p>
		</div>


        <div class="form">
          <div class="label">パスワード：</div>
          <div class="input">
            <input type="password" id="empPass" name="empPass">
          </div>
        </div>
        <div class="form">
          <div class="label">社員名：</div>
          <div class="input">
            <input type="text" id="empName" name="empName" th:value="*{empName}">
          </div>
        </div>
        <div class="form">
          <div class="label">性別：</div>
          <div class="input">
            <input th:if="*{gender == null}" type="radio" value="1" id="gender1" name="gender" checked="checked">
            <input th:unless="*{gender == null}" type="radio" value="1" id="gender1" name="gender" th:checked="*{gender == 1}">男性&nbsp;
            <input type="radio" value="2" id="gender2" name="gender" th:checked="*{gender == 2}">女性
          </div>
        </div>
        <div class="form">
          <div class="label">住所：</div>
          <div class="input">
            <input type="text" id="address" name="address" th:value="*{address}">
          </div>
        </div>
        <div class="form">
          <div class="label">生年月日：</div>
          <div class="input">
            <input type="text" id="birthday" name="birthday" th:value="${#dates.format(employeeBean.birthday, 'yyyy/MM/dd')}"> (YYYY/MM/DD)
          </div>
        </div>
        <div class="form" th:if="${session.loginUser.authority == 2}">
          <div class="label">権限：</div>
          <div class="input">
            <input th:if="*{authority == null}" type="radio" value="1" id="authority1" name="authority" checked="checked">
            <input th:unless="*{authority == null}" type="radio" value="1" id="authority1" name="authority" th:checked="*{authority == 1}">一般&nbsp;&nbsp;
            <input type="radio" value="2" id="authority2" name="authority" th:checked="*{authority == 2}">管理者
          </div>
        </div>
        <div class="form">
          <div class="label">部署名：</div>
          <div class="input">
          	<select id="deptId" name="deptId">
				<th:block th:each="dept:${session.deptList}">
      				<option th:value="${dept.deptId}" th:text="${dept.deptName}" th:selected="${employeeBean.department.deptId == dept.deptId}"></option>
    			</th:block>
    		</select>
          </div>
        </div>
        <div class="form">
          <div class="label"></div>
          <div class="input">
            <input type="hidden" id="empId" name="empId" th:value="*{empId}">
            <input th:unless="${session.loginUser.authority == 2}" type="hidden" id="authority" name="authority" th:value="*{authority}">
            <input type="submit" value="変更">
          </div>
        </div>
      </form>
      <form th:action="@{/list}">
        <div class="form">
          <div class="label"></div>
          <div class="input">
            <input type="submit" value="戻る">
          </div>
        </div>
      </form>
    </div>

		</article>
	</div>

</body></html>